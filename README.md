# Анализатор TF-IDF

Это простой сервис, который помогает анализировать текстовые документы с помощью метода TF-IDF (частотность слов с учётом их уникальности в тексте)

## Структура проекта

```text
.
├── cmd/
│   └── api/
│       └── main.go         # Запуск приложения
├── internal/
│   ├── handler/            # Обработка HTTP-запросов
│   ├── parser/             # Разбор и обработка текста
│   ├── service/            # Основная логика и расчёты TF-IDF
│   ├── model/              # Описание структур данных
│   └── repository/         # Работа с базой данных
├── pkg/
│   └── db/                 # Подключение к БД
└── web/
    └── templates/          # HTML-шаблоны и стили
```

## Запуск

```bash
# Склонируйте репозиторий
git clone https://github.com/kun1ts4/tfidf

# Запустите проект с помощью Docker
docker-compose up -d
```

После запуска приложение будет доступно по адресу: [http://localhost:8080](http://localhost:8080)

## Конфигурация

Указывается в `.env` в корне проекта

| Параметр   | Описание                           | Пример значения |
| ---------- | ---------------------------------- | --------------- |
| DB_HOST    | Хост базы данных                   | db              |
| DB_PORT    | Порт базы данных                   | 5432            |
| DB_USER    | Имя пользователя базы данных       | user            |
| DB_PASSWORD| Пароль пользователя базы данных    | password        |
| DB_NAME    | Имя базы данных                    | postgres        |
| API_PORT   | Порт для API                       | 8080            |

## Версия

v1.0

## Зависимости

| Зависимость | Версия |
|------------|--------|
| gopkg.in/yaml.v2 | v2.4.0 |
| github.com/gin-gonic/gin | v1.10.1 |
| github.com/jackc/pgx/v5 | v5.7.5 |

## Changelog

### v1.0

* Реализован основной функционал:

    * Расчёт TF-IDF для загруженных текстов
    * Возможность загружать файлы через веб-интерфейс
    * Хранение слов и информации о файлах в PostgreSQL
    * Созданы REST API для работы с файлами и метриками
    * Добавлены базовые логи и мониторинг
  
* Веб-интерфейс:

    * Простой HTML-интерфейс для загрузки и просмотра результатов
    * Стили подключены через статические файлы

* Прочее:

    * Описание проекта и его структуры добавлено в `README.md`
    * Выпущена первая стабильная версия

### v1.1

* Инфраструктура:

  * Проект упакован в контейнеры (Docker)
  * Настроено подключение к базе через `pgx`

* Добавлены метрики:

  * `peak_upload_time`: время, когда больше всего загружают файлы. Помогает понять, когда система наиболее нагружена
  * `top_frequencies_words`: топ-5 самых частых слов. Помогает анализировать содержимое текстов
  * `files_processed`: количество файлов, обработанных приложением
  * `min_time_processed`: минимальное время в секундах с точностью 3 знака после запятой, затраченное на обработку файла
  * `avg_time_processed`: среднее время в секундах с точностью 3 знака после запятой, затраченное на обработку файла
  * `max_time_processed`: максимальное время в секундах с точностью 3 знака после запятой, затраченное на обработку файла
  * `latest_file_processed_timestamp`: время обработки последнего файла в формате timestamp
